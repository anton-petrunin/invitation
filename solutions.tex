%%!TEX root = invitation.tex
\backmatter
\chapter*{Semisolutions}
\addcontentsline{toc}{chapter}{Semisolutions}

\section*{Introduction}
\parbf{Exercise~\ref{ex:two-components-of-M4}.} 
Let $\spc{X}$ be a 4-point metric space.

Fix a tetrahedron $\triangle$ in~$\RR^3$.
The vertices of $\triangle$, 
say $x_0$, $x_1$, $x_2$, $x_3$, can be identified with the points of~$\spc{X}$.

Note that there is unique quadratic form $W$ on $\RR^3$
such that 
\[W(x_i-x_j)=\dist[2]{x_i}{x_j}{\spc{X}}\]
for all $i$ and~$j$.

By the triangle inequality, $W(v)\ge 0$ 
for any vector $v$ parallel to one of the faces of~$\triangle$.

Note that $\spc{X}$ is isometric to a 4-point subset in Euclidean space
if and only if $W(v)\ge 0$ for any vector $v$ in~$\RR^3$.

\begin{wrapfigure}{r}{52mm}
\begin{lpic}[t(-2mm),b(1mm),r(0mm),l(0mm)]{pics/quad(1)}
\end{lpic}
\end{wrapfigure}

Therefore, if $\spc{X}$ is not of type $\mathcal{E}_4$, then $W(v)<0$ for some vector~$v$.
From above, the vector $v$ must be transversal to each of the 4 faces of~$\triangle$.
Therefore if we project $\triangle$ along $v$ to a plane transversal to $v$ we see one of these two pictures.

Note that the set of vectors $v$ such that $W(v)<0$ has two connected components;
the opposite vectors $v$ and $-v$ lie in the different components.
If one moves $v$ continuously keeping $W(v)<0$,
then the corresponding projection moves continuously and the projections of 4 triangles can not degenerate. 
It follows that the combinatorics of the picture do not depend on the choice of~$v$. 
Hence $\mathcal{M}_4\backslash\mathcal{E}_4$ is not connected. 

It remains to show that if the combinatorics of the pictures for two spaces are the same, then one can continuously deform one space into the other.
This can be easily done by deforming $W$ and applying a permutation of $x_0$, $x_1$, $x_2$, $x_3$ if necessary.
\qeds

The solution is taken from \cite{petrunin-quest}.


\parbf{Exercise~\ref{ex:convex-set}.}
The simplest proof we know requires the construction of tangent cones for Alexandrov spaces with nonnegative curvature.
(The length metric is defined on page~\pageref{page:length metric}.)

\section*{Preliminaries}

\parbf{Exercise~\ref{ex:non-contracting-map}.}
This exercise is a basic introductory lemma on  Gromov--Hausdorff distance (see for example \cite[7.3.30]{BBI}).
The following proof is not quite standard, it was suggested by Travis Morrison.

\medskip

Given any pair of points $x_0,y_0\in K$, 
consider two sequences $(x_n)$ and $(y_n)$
such that 
$x_{n+1}=f(x_n)$ and $y_{n+1}=f(y_n)$ for each~$n$.

Since $K$ is compact, 
we can choose an increasing sequence of integers $n_i$
such that both sequences $(x_{n_i})_{i=1}^\infty$ and $(y_{n_i})_{i=1}^\infty$
converge.
In particular, both of these sequences  are converging in itself;
that is,
\[
|x_{n_i}-x_{n_j}|_K, |y_{n_i}-y_{n_j}|_K\to 0
\ \ 
\text{as}
\ \ \min\{i,j\}\to\infty.
\]


Since $f$ is distance non-decreasing, we get
\[
|x_0-x_{|n_i-n_j|}|
\le 
|x_{n_i}-x_{n_j}|.
\]

It follows that  
there is a sequence $m_i\to\infty$ such that
\[
x_{m_i}\to x_0\ \ \text{and}\ \ y_{m_i}\to y_0\ \ \text{as}\ \ i\to\infty.
\leqno({*})\]

Set \[\ell_n=|x_n-y_n|_K.\]
Since $f$ is distance non-decreasing, $(\ell_n)$ is a non-decreasing sequence.

By $({*})$,  $\ell_{m_i}\to\ell_0$ as $m_i\to\infty$.
It follows that $(\ell_n)$ is a constant sequence.

In particular 
\[|x_0-y_0|_K=\ell_0=\ell_1=|f(x_0)-f(y_0)|_K\]
for any pair $x_0$ and~$y_0$.
That is, $f$ is distance preserving, in particular, injective.

From $({*})$, we also get that $f(K)$ is everywhere dense.
Since $K$ is compact, $f\:K\to K$ is surjective.
Hence the result.\qeds


\parbf{Exercise~\ref{ex:product-cone}.} A point in $\RR\times \Cone \spc{U}$ can be described by a triple $(x,r,p)$, where $x\in \RR$, $r\in \RR_{\ge}$ and $p\in \spc{U}$.
Correspondingly, a point in $\Cone[\Susp\spc{U}]$ can be described by a triple $(\rho,\phi,p)$, where $\rho\in \RR_\ge$, $\phi\in [0,\pi]$ and $p\in \spc{U}$.

The map 
$\Cone[\Susp\spc{U}]\to\RR\times\Cone\spc{U}$ defined as
\[(\rho,\phi,p)\mapsto(\rho\cdot\cos\phi,\rho\cdot\sin\phi,p)\] 
is the needed isometry.\qeds

\parbf{Exercise~\ref{ex:no-geod}.}
The following example is due to Fedor Nazarov, see~\cite{nazarov}.

\medskip

Consider the unit ball $(B,\rho_0)$
in the space $c_0$ of all sequences converging to zero equipped with the sup-norm.

Consider another metric $\rho_1$ which is different from $\rho_0$ by the conformal factor
\[\phi(\bm{x})=2+\tfrac{1}2\cdot x_1+\tfrac{1}4\cdot x_2+\tfrac{1}8\cdot x_3+\dots,\]
where $\bm{x}=(x_1,x_2\,\dots)\in B$.
That is, if $\bm{x}(t)$, $t\in[0,\ell]$ is a curve parametrized by $\rho_0$-length 
then its $\rho_1$-length is 
\[\length_{\rho_1}\bm{x}=\int\limits_0^\ell\phi\circ\bm{x}.\]
Note that the metric $\rho_1$ is bi-Lipschitz to~$\rho_0$.

Assume $\bm{x}(t)$ and $\bm{x}'(t)$ are two curves parametrized by $\rho_0$-length which differ only in the $m$-th coordinate, denoted as $x_m(t)$ and $x_m'(t)$ correspondingly.
Note that if $x'_m(t)\le x_m(t)$ for any $t$ and 
the function $x'_m(t)$ is locally $1$-Lipschitz at all $t$ such that $x'_m(t)< x_m(t)$, then 
\[\length_{\rho_1}\bm{x}'\le \length_{\rho_1}\bm{x}.\]
Moreover this inequality is strict if $x'_m(t)< x_m(t)$ for some~$t$.

Fix a curve $\bm{x}(t)$, $t\in[0,\ell]$ parametrized by  $\rho_0$-length.
We can choose $m$ large, so that $x_m(t)$ is sufficiently close to $0$ for any~$t$.
In particular, for some values $t$, we have $y_m(t)<x_m(t)$, where
\[y_m(t)=(1-\tfrac t\ell)\cdot x_m(0)
+\tfrac t\ell\cdot x_m(\ell)
-\tfrac 1{100}\cdot \min\{t,\ell-t\}.\]
Consider the curve $\bm{x}'(t)$ as above with
\[x'_m(t)=\min\{x_m(t),y_m(t)\}.\]
Note that $\bm{x}'(t)$ and $\bm{x}(t)$ have the same end points and from above 
\[\length_{\rho_1}\bm{x}'<\length_{\rho_1}\bm{x}.\]
That is, for any curve $\bm{x}(t)$ in $(B,\rho_1)$, we can find a shorter curve $\bm{x}'(t)$ with the same end points.
In particular, $(B,\rho_1)$ has no geodesics.
\qeds

\parbf{Exercise~\ref{exercise from BH}.}
The following example is taken from~\cite{BH}.

\medskip

\begin{wrapfigure}{r}{25mm}
\begin{lpic}[t(-0mm),b(-1mm),r(0mm),l(2mm)]{pics/square(1)}
\lbl[r]{3,11;{$\dots$}}
\lbl[r]{-.5,1;{$p$}}
\lbl[r]{-.5,21;{$q$}}
\lbl[l]{12,11;{$\spc{X}$}}
\end{lpic}
\end{wrapfigure}

Consider the following subset of $\R^2$ equipped with the induced length metric
\[
\spc{X}
=
\bigl((0,1]\times\{0,1\}\bigr)
\cup
\bigl(\{1,\tfrac12,\tfrac13,\dots\}\times[0,1]\bigr)
\]
Note that $\spc{X}$ locally compact and geodesic.

Its completion $\bar{\spc{X}}$ is isometric to the closure of $\spc{X}$ equipped with the induced length metric;
$\bar{\spc{X}}$ is obtained from $\spc{X}$ by adding two points $p=(0,0)$ and $q=(0,1)$.

The point $p$ admits no compact neighborhood in $\bar{\spc{X}}$ 
and there is no geodesic connecting $p$ to $q$ in~$\bar{\spc{X}}$. \qeds 

\parbf{Exercise~\ref{ex:adjacent-angles}.}
Assume the contrary; that is
\[\mangle\hinge pxz+\mangle\hinge pyz< \pi.\]
By the  triangle inequality for angles (\ref{claim:angle-3angle-inq})
we have 
\[\mangle\hinge pxy<\pi.\]
The latter contradicts the triangle inequality for the triangle $\trig{\bar x}{p}{\bar y}$,
where the points
$\bar x\in \left]px\right]$ and $\bar y\in \left]py\right]$
are sufficiently close to~$p$.\qeds

\parbf{Exercise~\ref{ex:hausdorff-conv}.}
By the definition of the convergence
\[p\in A_\infty\quad\iff\quad\dist{A_n}{}{}(p)\to 0\quad\text{as}\quad n\to \infty.\] 
The latter is equivalent to existence of a sequence $p_n\in A_n$ such that
$\dist{p_n}{p}{}\to0$ as $n\to \infty$;
or equivalently $p_n\to p$.
Hence the first statement follows.

To show that the contrary does not hold,
consider the alternating sequence of two distinct closed sets $A,B,A,B,\dots$;
note that it is not a converging sequence in the sense of Hausdorff.
On the other hand, the set of all limit points is well defined --- it is the intersection $A\cap B$.\qeds

\parit{Remark.} The set $\ushort{A}_\infty$ of all limits  of sequences $p_n\in A_n$ is called the \emph{lower closed limit}
and the set $\bar{A}_\infty$ of all partial limits of such sequences is called the \emph{upper closed limit}.
Clearly $\ushort{A}_\infty\subset \bar{A}_\infty$.
If $\ushort{A}_\infty=\bar{A}_\infty$, then it is called  the \emph{closed limit} of~$A_n$.%
\footnote{All these convergences were introduced by Felix Hausdorff in~\cite{hausdorff}.}

For the class of closed subsets of a proper metric space, closed limits coincide with limits in the sense of Hausdorff as we defined it.




\parbf{Exercise~\ref{ex:compact-proper-GH}.}
To prove part (\ref{SHORT.ex:compact-proper-GH:a}),
fix a countable dense set of points $\mathfrak{S}\subset\spc{X}_\infty$.
For each point $x\in \mathfrak{S}$, choose a sequence 
of points $x_n\in\spc{X}_n$ such that $x_n\xto{\rho} x$.

Applying the diagonal procedure, we can pass to a subsequence of $ \spc{X}_n$ such that each of the constructed sequences $\rho'$-converge;
that is, $x_n\xto{\rho'} x'$ for some $x'\in\spc{X}_\infty'$.

This way we get a map $\mathfrak{S}\to\spc{X}_\infty'$ defined as $x\mapsto x'$.
Note that this map preserves the distances and therefore it can be extended to a distance preserving map $\spc{X}_\infty\to\spc{X}_\infty'$.
Likewise we construct a distance preserving map $\spc{X}_\infty'\to\spc{X}_\infty$.

It remains to apply Exercise~\ref{ex:non-contracting-map}.

The proof of part (\ref{SHORT.ex:compact-proper-GH:b}) is  nearly identical;
but one has to apply Exercise~\ref{ex:non-contracting-map} to closed balls centered at the limits of $x_n$ in $\spc{X}_\infty$ and $\spc{X}_\infty'$. 
\qeds

\section*{Gluing theorem and billiards}

\parbf{Exercise~\ref{ex:cone+susp}.}
Given a point $x\in \Cone\spc{U}$, denote by $x'$ its projection to $\spc{U}$
and by $|x|$ the distance from $x$ to the tip of the cone;
if $x$ is the tip, then $|x|=0$ and we can take any point of $\spc{U}$ as~$x'$.

Let $p$, $q$, $x$, $y$
be a quadruple in $\Cone\spc{U}$.
Assume that the spherical model triangles $\trig{\~p'}{\~x'}{\~y'}=\modtrig(p'x'y')_{\SS^2}$ and $\trig{\~q'}{\~x'}{\~y'}=\modtrig(q'x'y')_{\SS^2}$ are defined.
Consider the following points in $\EE^3=\Cone\SS^2$: 
\begin{align*}
\~p&=|p|\cdot\~p',
&
\~q&=|q|\cdot\~q',
&
\~x&=|x|\cdot\~x',
&
\~y&=|y|\cdot\~y'.
\end{align*}

Note that
$\trig{\~p}{\~x}{\~y}\iso\modtrig(pxy)_{\EE^2}$
and
$\trig{\~q}{\~x}{\~y}\iso\modtrig(qxy)_{\EE^2}$.
Further note that if $\~z\in [\~x\~y]$, then
$\~z'=\~z/|\~z|$ lies on the geodesic $[\~x'\~y']$ in~$\SS^2$.
Therefore the $\Cat{}{1}$ comparison for $\dist{p'}{q'}{}$ with $\~z'\in[\~x'\~y']_{\SS^2}$ implies the 
$\Cat{}{0}$ comparison for $\dist{p}{q}{}$ with $\~z\in[\~x\~y]_{\EE^3}$.

To show the converse, we need to apply 
the $\Cat{}{0}$ comparison to a quadruple $s=a\cdot p$, $q$, $x$, $y$ with $a\ge 0$ chosen so  that the corresponding points 
$\~s=a\cdot \~p$, $\~q$, $\~x$, $\~y$ lie in one plane.

The second statement is proved along the same lines, but we have to use $\SS^3=\Susp\SS^2$ instead of $\EE^3=\Cone\SS^2$.
\qeds

\parbf{Exercise~\ref{ex:product}.}
Fix a quadruple in $\spc{U}\times \spc{V}$:
\begin{align*}
p&=(p_1,p_2),
&
q&=(q_1,q_2), 
&
x&=(x_1,x_2),
&
y&=(y_1,y_2).
\end{align*}
For the quadruple $p_1,q_1,x_1,y_1$ in $\spc{U}$,
construct two model triangles $\trig{\~p_1}{\~x_1}{\~y_1}=\modtrig(p_1x_1y_1)_{\EE^2}$ 
and $\trig{\~q_1}{\~x_1}{\~y_1}=\modtrig(q_1x_1y_1)_{\EE^2}$.  
Similarly, for the quadruple $p_2,q_2,x_2,y_2$ in $\spc{V}$
construct two model triangles $\trig{\~p_2}{\~x_2}{\~y_2}$ and $\trig{\~q_2}{\~x_2}{\~y_2}$.

Consider four points in $\EE^4=\EE^2\times\EE^2$ 
\begin{align*}
\~p&=(\~p_1,\~p_2),
&
\~q&=(\~q_1,\~q_2),
&
\~x&=(\~x_1,\~x_2),
&
\~y&=(\~y_1,\~y_2).
\end{align*}
Note that the triangles $\trig{\~p}{\~x}{\~y}$ and $\trig{\~q}{\~x}{\~y}$ in $\EE^4$ are isometric to the model triangles 
$\modtrig(pxy)_{\EE^2}$ and $\modtrig(qxy)_{\EE^2}$.

If $\~z=(\~z_1,\~z_2)\in [\~x\~y]$, then $\~z_1\in [\~x_1\~y_1]$ and $\~z_2\in [\~x_2\~y_2]$ and
\begin{align*}
\dist[2]{\~z}{\~p}{\EE^4}&=\dist[2]{\~z_1}{\~p_1}{\EE^2}+\dist[2]{\~z_2}{\~p_2}{\EE^2},
\\
\dist[2]{\~z}{\~q}{\EE^4}&=\dist[2]{\~z_1}{\~q_1}{\EE^2}+\dist[2]{\~z_2}{\~q_2}{\EE^2},
\\
\dist[2]{p}{q}{\spc{U}\times\spc{V}}&=\dist[2]{p_1}{q_1}{\spc{U}}+\dist[2]{p_2}{q_2}{\spc{V}}.
\end{align*}
Therefore $\Cat{}{0}$ comparison for the quadruples $p_1,q_1,x_1,y_1$ in $\spc{U}$
and 
$p_2,q_2,x_2,y_2$ in $\spc{V}$ implies the 
$\Cat{}{0}$ comparison for the quadruples $p,q,x,y$ in $\spc{U}\times \spc{V}$.\qeds

\parbf{Exercise~\ref{ex:CAT-geodesic}.}
According to Lemma~\ref{lem:mid>geod}, it is sufficient to prove the existence of a midpoint between two given points $x$ and~$y$.

For each $n$ choose a $\tfrac1n$-midpoint $z_n$;
that is, a point such that
\[\dist{x}{z_n}{},\dist{y}{z_n}{}\le \tfrac12\cdot\dist{x}{y}{}+\tfrac1n.\]

From the $\Cat{}{0}$ comparison inequality for the quadruple $x$, $y$, $z_n$, $z_m$ we have that $\dist{z_m}{z_n}{}\to0$ as $n,m\to\infty$;
that is, $z_n$ converges in itself and hence converges.

Since the space is complete the sequence $z_n$ has a limit, say $z$, which is clearly a midpoint between $x$ and~$y$.\qeds 

\parbf{Exercise~\ref{ex:geod-CBA}.}
Without loss of generality we can assume that $\kappa=1$.
Fix a sufficiently small $0<\eps<\pi$.

Recall that by Proposition~\ref{cor:loc-geod-are-min}, any local geodesic shorter than $\pi$ in  $\spc{U}$ is a geodesic.

Consider a sequence of directions $\xi_n$ of geodesics $[pq_n]$.
We can assume that the distances $\dist{p}{q_n}{\spc{U}}$ are equal to $\eps$ for all $n$;
here we use that the geodesics are extendable as local geodesics and minimizing up to length~$\pi$.

Since $\spc{U}$ is proper,
the sequence $q_n$ has a partial limit, say~$q$.
It remains to note that the direction $\xi$ of $[pq]$ is the limit of directions $\xi_n$,
assuming the latter is defined.\qeds

Note that the unit disc in the plane with attached half-line to each point is a complete $\Cat{}{0}$ length spaces with extendable geodesics. 
However, the space of geodesic directions on the boundary of the disc is not complete --- there is no geodesic tangent to the boundary of the disc.


\begin{wrapfigure}{r}{33mm}
\begin{lpic}[t(-6mm),b(0mm),r(0mm),l(0mm)]{pics/resh(1)}
\lbl[t]{17.5,.5;$\~p$}
\lbl[b]{2,27.5;$\~x$}
\lbl[b]{30,27.5;$\~y$}
\lbl[b]{17,27.5;$\~z$}
\lbl[b]{12.5,18;$\~z_x$}
\lbl[b]{21,18;$\~z_y$}
\end{lpic}
\end{wrapfigure}
\parbf{Exercise~\ref{ex:short-map}.}
By Alexandrov's lemma (\ref{lem:alex}), 
there are nonoverlapping triangles 
\[\trig{\~p}{\~x}{\~z_x}\iso\trig {\dot p}{\dot x}{\dot z}\] 
and 
\[\trig{\~p}{\~y}{\~z_y}\iso\trig {\dot p}{\dot y}{\dot z}\]
inside the  triangle $\trig{\~p}{\~x}{\~y}$.

Connect  the points in each pair
$(\~z,\~z_x)$, 
$(\~z_x,\~z_y)$ 
and $(\~z_y,\~z)$ 
with arcs of circles centered at 
$\~y$, $\~p$, and $\~x$ respectively. 
Define $F$ as follows:
\begin{itemize}

\item Map  $\Conv\trig{\~p}{\~x}{\~z_x}$ isometrically onto  $\Conv\trig {\dot p}{\dot x}{\dot z}$;
similarly map $\Conv \trig{\~p}{\~y}{\~z_y}$ onto $\Conv \trig {\dot p}{\dot y}{\dot z}$.

\item If $x$ is in one of the three circular sectors, on the distance $r$ from its center, set $F(x)$ to be the point on the corresponding segment 
$[p z]$, 
$[x z]$ 
or $[y z]$ whose distance from the lefthand endpoint of the segment is~$r$.

\item Finally, if $x$ lies in the remaining curvilinear triangle $\~z \~z_x \~z_y$, 
set $F(x) = z$. 
\end{itemize}
By construction, $F$ satisfies the conditions. \qeds

\parbf{Exercise~\ref{ex:convex-balls}.}
For $\Cat{}{0}$ case, the statement follows from convexity of distance functions to points in $\EE^2$, and thinness of triangles.

For $\Cat{}{1}$ case,  the statement  follows from spherical thinness of triangles and convexity of ball of radius $r<\tfrac\pi2$ in~$\SS^2$.

\parbf{Exercise~\ref{ex:locally-convex}.}
Fix a closed, connected, locally convex set~$K$.
Note that by Corollary \ref{cor:dist-convex}, $\dist{K}{}{}$ is convex in a neighborhood $\Omega\supset K$; that is, $\dist{K}{}{}$ is convex along any geodesic completely contained in~$\Omega$.

Since $K$ is locally convex,
it is locally path connected.
Since $K$ is connected, the latter implies that $K$ is path connected.

Fix two points $x,y\in K$. 
Let us connect $x$ to $y$ by a path $\alpha\:[0,1]\to K$.
By Theorem~\ref{thm:cat-unique}, the geodesic $[x\alpha(s)]$ 
is uniquely defined and depends continuously on~$s$.

\begin{center}
\begin{lpic}[t(-0mm),b(0mm),r(0mm),l(0mm)]{pics/loc-convex(1)}
\lbl{25,15;$K$}
\lbl{82,8;$\Omega$}
\lbl[r]{28.5,8;$x$}
\lbl[l]{72,11;$y$}
\lbl[bl]{58,20;$\alpha(s)$}
\lbl[br]{42,19.5,25;$\alpha$}
\end{lpic}
\end{center}

If $[xy]=[x\alpha(1)]$ does not completely lie in $K$, then 
there is a value $s\in [0,1]$ such that $[x\alpha(s)]$ 
lies in $\Omega$,
but does not completely lie in~$K$.
Therefore $f=\dist{K}{}{}$ is convex 
along $[x\alpha(s)]$.
Note that $f(x)\z=f(\alpha(s))=0$ and $f\ge 0$, 
therefore $f(z)= 0$ for any $z\in [x\alpha(s)]$;
that is, $[x\alpha(s)]\subset K$, a contradiction.\qeds

%??? we dicussed it with Stephanie, but I do not remember the conclusion --- I learned this proof from Sergei Ivanov on Mathoverflow; however likely it is not the original sourse --- the idea is nice and it would be nice to add a reference (I can find ref to Mathoverflow if needed). A.


\parbf{Exercise~\ref{ex:closest-point}.}
Since $\spc{U}$ is proper, the set $K\cap \cBall[p,R]$ is compact for any $R<\infty$.
Hence the existence of at least one point $p^*$ that minimizes the distance from $p$ follows.

Assume $p^*$ is not uniquely defined;
that is,  two distinct points in $K$, say $x$ and $y$, minimize the distance from~$p$.
Since $K$ is convex, the midpoint $z$ of $[xy]$ lies in~$K$.

Note that 
\[\dist{p}{z}{}<\dist{p}{x}{}=\dist{p}{y}{},\] 
a contradiction.

It remains to show that the map $p\mapsto p^*$ is short, 
that is, 
\[\dist{p}{q}{}\ge \dist{p^*}{q^*}{}.\eqlbl{eq:short-p-p}\]
for any $p,q\in \spc{U}$.

Assume $p\ne p^*$, $q\ne q^*$, $p^*\ne q^*$.
In this case
\[\mangle\hinge{p^*}{p}{q^*}\ge \tfrac\pi2,
\quad
\mangle\hinge{q^*}{q}{p^*}\ge \tfrac\pi2,\] 
and both angles are defined. 

\begin{wrapfigure}{r}{30mm}
\begin{lpic}[t(-8mm),b(0mm),r(1mm),l(1mm)]{pics/ppqq(1)}
\lbl[t]{5,1;$\~p^*$}
\lbl[r]{0,21;$\~p$}
\lbl[l]{27,19;$\~q$}
\lbl[t]{21,1;$\~q^*$}
\end{lpic}
\end{wrapfigure}

Construct the model triangles 
$\trig{\~p}{\~p^*}{\~q^*}$ and $\trig{\~p}{\~q}{\~q^*}$
of $\trig{p}{p^*}{q^*}$ and $\trig{p}{q}{q^*}$ so that 
the points $\~p^*$ and $\~q$ lie on the opposite sides from $[{\~p}{\~q^*}]$.

%???fix \trig???

By comparison,
\[\mangle\hinge{\~p^*}{\~p}{\~q^*}\ge \mangle\hinge{p^*}{p}{q^*}\ge \tfrac\pi2.\]
Further, applying the triangle inequality for angles (\ref{claim:angle-3angle-inq}) and comparison, we get 
\begin{align*}
\mangle\hinge{\~q^*}{\~q}{\~p^*}&=\angk{q^*}{q}{p}+\angk{q^*}{p}{p^*}\ge
\\
&\ge\mangle\hinge{q^*}{q}{p}+\mangle\hinge{q^*}{p}{p^*}\ge
\\
&\ge \mangle\hinge{q^*}{q}{p^*}\ge 
\\
&\ge \tfrac\pi2,
\end{align*}
assuming the left hand sides are defined. 
Hence 
\[\dist{\~p}{\~q}{}\ge \dist{\~p^*}{\~q^*}{}.\]
The latter is equivalent to \ref{eq:short-p-p}.

In the remaining cases; the \ref{eq:short-p-p} holds automatically if (1) $p^*= q^*$ or (2) $p= p^*$ and $q= q^*$.

It remains to consider the case $p= p^*$, $q\ne q^*$ and $p^*\ne q^*$.
In this case 
\[
\mangle\hinge{q^*}{q}{p}\ge \tfrac\pi2,\]
and \ref{eq:short-p-p} follows by comparison.
\qeds

\parit{Comment.}
The solution leads to a generalization of arm lemma to $\Cat{}{\kappa}$ spaces; see our book \cite{AKP}.



\parbf{Exercise~\ref{ex:supporting-planes}.}
By approximation, it is sufficient to consider the case when 
$A$ and $B$ have smooth boundary. 

If $[xy]\cap A\cap B\ne \emptyset$, then $z_0\in [xy]$ and $\dot A, \dot B$ can be chosen to be arbitrary half-spaces containing $A$ and $B$ respectively.  

In the remaining case $[xy]\cap A\cap B=\emptyset$. 
we have $z_0\in\partial (A\cap B)$.  
Consider the solid ellipsoid
\[C=\set{z\in\EE^m}{f(z)\le f(z_0)}.\] 
Note that $C$ is compact, convex and has  smooth boundary. 

Suppose $z_0\in\partial  A \cap \Int B$. 
Then $A$ and $C$ touch at $z_0$ and we can set $\dot A$ to be the uniquely defined supporting half-space to $A$  at $z_0$ and $\dot B$ to be any half-space containing~$B$. 
The case $z_0\in\partial B \cap \Int A$ is treated similarly.


Finally, suppose $z_0\in\partial A\cap\partial B$. 
Then the set  $\dot A$ (respectively, $\dot B$) is defined as the unique supporting half-space to $A$ (respectively, $B$) at $z_0$ containing $A$ (respectively, $B$).

Suppose $f(z)<f(z_0)$ for some $z\in \dot A\cap\dot B$.
Since $f$ is concave,
$f(\bar z)<f(z_0)$ for any $\bar z \in \left[zz_0\right[$.
Since $\left[zz_0\right[\cap A\cap B\ne\emptyset$,
the latter contradicts that $z_0$ is minimum point of $f$ on $A\cap B$.
\qeds

\parbf{Exercise~\ref{ex:compact-walls}.}
Fix two open balls $B_1\z=\oBall(0,r_1)$ and $B_2=\oBall(0,r_2)$
such that 
\[B_1\subset A^i\subset B_2\]
for each wall~$A^i$.


\begin{wrapfigure}{r}{44mm}
\begin{lpic}[t(-6mm),b(0mm),r(0mm),l(0mm)]{pics/compact-walls(1)}
\lbl{21.5,9.5;{\color{white}$B_1$}}
\lbl{27,27;$B_2$}
\lbl[tr]{10,20;$A^i$}
\lbl[tr]{34,12;$A^j$}
\end{lpic}
\end{wrapfigure}

Note that all the intersections of  the walls  have $\eps$-wide corners for
\[\eps=2\cdot \arcsin\tfrac{r_1}{r_2}.\]
The proof can be guessed from the diagram.
\qedsf

\parbf{Exercise~\ref{ex:centrally-simmetric-walls}.}
Note that any centrally symmetric convex closed set in the Euclidean space is a product of a compact set and a subspace.

It follows that there is $R<\infty$
such that if $X$ is an intersection of an arbitrary number of walls, then for any point $p\in X$ there is an isometry of $X$ 
which moves  $p$ to a point in the ball $\oBall(0,R)$.

It remains to repeat the proof of Exercise~\ref{ex:compact-walls}.\qeds

\section*{Globalization and asphericity}

\parbf{Exercise~\ref{ex:null-homotopic}.}
Note that the existence of a null-homotopy is equivalent to the following.
There are two one-parameter families of paths $\alpha_\tau$ and $\beta_\tau$, $\tau\in[0,1]$ 
such that 
\begin{itemize}
\item $\length\alpha_\tau$, $\length\beta_\tau<\pi$ for any~$\tau$.
\item $\alpha_\tau(0)=\beta_\tau(0)$ and $\alpha_\tau(1)=\beta_\tau(1)$ for any~$\tau$.
\item $\alpha_0(t)=\beta_0(t)$ for any~$t$.
\item $\alpha_1(t)=\alpha(t)$ and $\beta_1(t)=\beta(t)$ for any~$t$.
\end{itemize}

By Corollary~\ref{cor:discrete-paths},
the construction in Corollary~\ref{cor:path-geod} produces the same result for $\alpha_\tau$ and $\beta_\tau$.
Hence the result.\qeds

\parbf{Exercise~\ref{ex:geod-circle}.}
The following proof works for compact locally simply connected metric spaces;
by uniqueness of geodesics (\ref{thm:cat-unique}) 
this class of spaces includes compact length locally $\Cat{}{\kappa}$ spaces. 

\medskip

\begin{wrapfigure}{r}{25mm}
\begin{lpic}[t(-0mm),b(0mm),r(0mm),l(0mm)]{pics/geod-circle(1)}
\lbl[tr]{5,0;$p$}
\lbl[bl]{21,17;$q$}
\lbl[t]{5,17,43;$\alpha_1$}
\lbl[t]{19.7,3.3,43;$\alpha_2$}
\end{lpic}
\end{wrapfigure}

Assume there is  a nontrivial homotopy class of curves.

Consider a shortest noncontractible closed curve $\gamma$ in the space;
note that it exists.

Assume that $\gamma$ is not a geodesic circle,
that is,  there are two points $p$ and $q$ on $\gamma$ such that the distance $\dist{p}{q}{}$ 
is shorter then the lengths of the arcs, say $\alpha_1$ and $\alpha_2$, of $\gamma$ from $p$ to~$q$.
Consider the products, say $\gamma_1$ and $\gamma_2$,
of $[qp]$ with $\alpha_1$ and~$\alpha_2$.
Note that
\begin{itemize}
 \item  $\gamma_1$ or $\gamma_2$ is noncontractible,
 \item $\length\gamma_1, \length\gamma_2<\length \gamma$,
\end{itemize}
a contradiction.

The $\Cat{}{1}$ case is done the same way, but we need to consider the homotopy classes of curves shorter than $2\cdot \pi$.\qeds

\parbf{Exercise~\ref{ex:branching-cover}.}
Consider an $\eps$-neighborhood $A$ of the geodesic.
Note that $A_\eps$ is convex.
By Reshetnyak gluing theorem the double $\spc{W}_\eps$ of $\spc{U}$ along $A_\eps$ is $\Cat{}{0}$.

Consider the space $\spc{W}'_\eps$ obtained by doubly covering $\spc{U}\backslash A_\eps$ and gluing back~$A_\eps$.

Note that $\spc{W}'_\eps$ is locally isometric to $\spc{W}_\eps$. 
That is, for any point $p'\in\spc{W}'_\eps$ there is a point $p\in\spc{W}_\eps$ such that the $\delta$-neighborhood of $p'$ is isometric to the $\delta$-neighborhood of $p$ for all small $\delta>0$.

Further note that $\spc{W}'_\eps$ is simply connected since it admits a deformation retraction onto $A_\eps$, which is contractible.
By the globalization theorem, $\spc{W}'_\eps$ is $\Cat{}{0}$.

It remains to note that $\~{\spc{U}}$ can be obtained as a limit of $\spc{W}'_\eps$ as $\eps\to 0$, and apply Proposition~\ref{prop:cat-limit}.
\qeds


\parbf{Exercise~\ref{ex:unique-geod=CAT}.}
Assume $\spc{P}$ is not $\Cat{}{0}$. Then
by Theorem~\ref{thm:PL-CAT},  a link $\Sigma$ of some simplex contains a closed geodesic $\alpha$ with length $4\cdot\ell<2\cdot\pi$.
Divide $\alpha$ into two equal arcs $\alpha_1$ and $\alpha_2$
parametrized by $[-\ell,\ell]$

Fix a small $\delta>0$ and 
consider two curves in $\Cone\Sigma$ written in polar coordinates as 
\[\gamma_i(t)=(\alpha_i(\tan \tfrac t\delta),\sqrt{\delta^2+t^2}).\]
Note that both curves $\gamma_1$ and $\gamma_2$ are geodesics in $\Cone\Sigma$ and  have common ends.

Finally note that a small neighborhood of the tip of $\Cone\Sigma$ admits an isometric embedding into~$\spc{P}$.
Hence the statement follows.\qeds

\parbf{Advanced exercise~\ref{ex:S3}.}
Note that it is sufficient to construct a polyhedral space $\spc{P}$ homeomorphic to the 3-disc such that (1) $\spc{P}$ is locally $\Cat{}{0}$ in its interior and (2) the boundary of $\spc{P}$ is locally concave; in particular, each edge on the boundary of $\spc{P}$ has angle at least~$\pi$.

Indeed, once $\spc{P}$ is constructed, taking the double of $\spc{P}$ along its boundary produces the needed metric on~$\mathbb{S}^3$.

The construction of $\spc{P}$ goes along the same lines as the construction of a Riemannian metric on the 3-disc with concave boundary and negative sectional curvature. 
This construction is given by Joel Hass in \cite{hass}.
\qeds

Note that by the globalization theorem (\ref{thm:hadamard-cartan}) the obtained metric on $\mathbb{S}^3$ is not locally $\Cat{}{0}$.

This problem originated from a discussion 
in Oberwolfach
between
Brian Bowditch,
Tadeusz Januszkiewicz,
Dmitri Panov
and 
the third author.


\parbf{Exercise~\ref{ex:baricenric-flag}.}
Checking the flag condition is straightforward once we know the following description of the barycentric subdivision.

Each vertex $v$ of the barycentric subdivision 
corresponds to a simplex $\triangle_v$ of the original triangulation.
A set of vertices forms a simplex in the subdivision 
if it can be ordered, say as $v_1,\dots,v_\kay$,
so that the corresponding simplices form a nested sequence
\[\triangle_{v_1}\subset\dots\subset\triangle_{v_\kay}.\]
\qedsf



\parbf{Exercise~\ref{ex:flag>=pi/2}.}
Use induction on the dimension, to prove that if in a spherical simplex $\triangle$ every edge is at least $\tfrac\pi2$, then 
all dihedral angles of $\triangle$ are at least~$\tfrac\pi2$.

The rest of the proof goes along the same lines as the proof of the flag condition (\ref{thm:flag}).
The only difference is that a geodesic may spends time \emph{at least} $\pi$ on each visit in $\Star_v$. %??? visit "in" or "of"???
\qeds

Note that it is not sufficient to assume only that the all dihedral angles of the simplices are at least~$\tfrac\pi2$. 
Indeed, the two-dimensional sphere with removed interior of a small rhombus is a spherical polyhedral space glued from four triangles with all the angles at least~$\tfrac\pi2$.
On the other han the boundary of the rhomus is closed local geodesic in this space.
Therefore the space can not be $\Cat{}{1}$.


\parbf{Exercise~\ref{ex:tree}.}
The space $\spc{T}_n$ has a natural cone structure with the vertex formed by the  completely degenerate tree --- all its edges have zero length.
Note that the space $\Sigma$, 
over which the cone is taken comes naturally with a triangulation 
with all-right spherical simplicies.

Note that link of any simplex of this triangulation satisfies no-triangle condition (\ref{def:flag}).
Indeed, fix a simplex $\triangle$ of the complex;
it can be described by combinatorics of a possibly degenerate tree.
A triangle in the link can be described by tree ways to resolve degeneracy by adding one edge of positive length,
such that (1) any pair of these resolutions can be done simultaniousely, but (2) all theree can not be done simultaniousely.
Direct inspection shows that the latter is impossible.

Therefore, by Proposition~\ref{prop:no-trig} our complex is flag.
It remains to apply the flag condition (\ref{thm:flag}) and then Exercise~\ref{ex:cone+susp}.
\qeds

\parbf{Exercise~\ref{ex:flag-aspherical}.}
If the complex $\mathcal{S}$ is flag, then its cubical analog $\square_{\mathcal{S}}$ is locally $\Cat{}{0}$ and therefore aspherical.

Assume now that the complex $\mathcal{S}$ is not flag. 
Extend it to a flag complex $\mathcal{T}$ by gluing a simplex in every clique (that is, a complete subgraph) of its one-skeleton.

Note that the cubical analog $\square_{\mathcal{S}}$ is a proper subcomplex in $\square_{\mathcal{T}}$.
Since $\mathcal{T}$ is flag,
$\tilde\square_{\mathcal{T}}$,
the universal cover of $\square_{\mathcal{T}}$, is $\Cat{}{0}$.

Choose a cube $Q$ with minimal dimension in $\tilde\square_{\mathcal{T}}$ which is not present in $\tilde\square_{\mathcal{S}}$.
By Exercise~\ref{ex:locally-convex}, $Q$ is a convex set in $\tilde\square_{\mathcal{T}}$.
The closest point projection $\tilde\square_{\mathcal{T}}\to Q$ is a retraction.
It follows that the boundary $\partial Q$ is not contractible in $\tilde\square_{\mathcal{T}}\backslash\Int Q$.
Therefore the spheroid $\partial Q$ is not contractible in $\tilde\square_{\mathcal{S}}$.
\qeds

\parbf{Exercise~\ref{ex:example-pi_infty-new}.}
The solution goes along the same lines as the proof of Lemma~\ref{lem:example-pi_infty}.
The only difference is that $G$
is not a subcomplex of the cubical analog.
It has to be made from the squares parallel to the squares of the cubical complex which meet the edges of the complex orthogonally at their midpoints. \qeds

\parbf{Exercise~\ref{ex:funny-S}.}
In the proof we apply the following lemma; 
it follows from the disjoint discs property, see \cite{edwards, daverman}.

\medskip

\parbf{Lemma.}
\emph{Let $\spc{S}$ be a finite simplicial complex which 
is homeomorphic to an $m$-dimensional homology manifold for some $m\ge 5$.
Assume that  all vertices of
$\spc{S}$ have simply connected links.
Then $\spc{S}$ is a topological manifold.}

\medskip


Note that it is sufficient to construct a simplicial complex $\spc{S}$
such that 
\begin{itemize}
\item $\spc{S}$ is a closed $(m-1)$-dimensional homology manifold;
\item $\pi_1(\spc{S}\backslash\{v\})\ne0$ for some vertex $v$ in $\spc{S}$;
\item $\spc{S}\sim \mathbb{S}^{m-1}$; that is, $\spc{S}$ is homotopy equivalent to~$\mathbb{S}^{m-1}$.
\end{itemize}

Indeed, assume such $\spc{S}$ is constructed.
Then the suspension
$\spc{R}\z=\Susp\spc{S}$
is an $m$-dimensional homology manifold with a natural triangulation coming from~$\spc{S}$.
According to the lemma,
$\spc{R}$ is a topological manifold.
According to the generalized Poincar\'{e} conjecture,
$\spc{R}\simeq\mathbb{S}^m$;
that is
$\spc{R}$ is homeomorphic to~$\mathbb{S}^m$.
Since $\Cone \spc{S}\simeq \spc{R}\backslash\{s\}$ where $s$ denotes a south pole of the suspension 
and $\EE^m\simeq \mathbb{S}^m\backslash\{p\}$
for any point $p\in \mathbb{S}^m$
we get 
\[\Cone \spc{S}\simeq\EE^m.\]

It remains to construct~$\spc{S}$.
Fix an $(m-2)$-dimensional homology sphere $\Sigma$ with a triangulation such that $\pi_1\Sigma\ne0$.
An example of that type exists for any $m\ge 5$; a proof is given in \cite{kervaire}.

Remove from $\Sigma$ the interior of one $(m-2)$-simplex.
Denote the resulting complex by~$\Sigma'$.
Since $m\ge 5$, we have $\pi_1\Sigma=\pi_1\Sigma'$.

Consider the product $\Sigma'\times [0,1]$. 
Attach to it the cone over its boundary $\partial (\Sigma'\times [0,1])$.
Denote by $\spc{S}$ the resulting simplicial complex
and by $v$ the tip of the attached cone.

Note that $\spc{S}$ is homotopy equivalent to the spherical suspension over $\Sigma$, which is a simply connected homology sphere and hence is homotopy equivalent to~$\mathbb{S}^{m-1}$.
  Hence  $\spc{S}\sim\mathbb{S}^{m-1}$.

The complement $\spc{S}\backslash\{v\}$ is homotopy equivalent to~$\Sigma'$.
Therefore 
\[
\pi_1(\spc{S}\backslash\{v\})
=\pi_1\Sigma'
=\pi_1\Sigma\ne 0.
\]
That is, $\spc{S}$ satisfies the conditions above.
\qeds

\section*{Subsets}

\parbf{Exercise~\ref{ex:chopping-triangle}.} 
Note that triangle $\trig pqx$ is degenerate, in particular it is thin.
It remains to apply the inheritance lemma (\ref{lem:inherit-angle}).

\parbf{Exercise~\ref{ex:concave-triangle}.}
By approximation,
it is sufficient to consider the case when $S$ has polygonal sides.

The latter case can be done by induction on the number of sides.
The base case of triangle is evident.

To prove the induction step, apply Alexandrov's lemma (\ref{lem:alex}) 
together with the construction in Exercise~\ref{ex:short-map}.
\qeds

\parbf{Exercise~\ref{ex:bishop-sphere}.}
From  Exercise~\ref{ex:hemisphere}, it follows that if a concave diangle in $\SS^2$ has perimeter smaller then $2\cdot\pi$, then contains a closed hemisphere in its interior or lies in an open hemisphere.
The same holds for a triangular region with concave sides.  

By the assumption, $\Theta$ does not contain a closed hemisphere. 
That is, the first case can not happen.
It remains to apply the argument in the proof of Theorem~\ref{thm:bishop-plane}. 
\qeds


\parbf{Exercise~\ref{ex:two-planes}.}
The space $K$ is a cone over the branched covering $\Sigma$ of $\mathbb{S}^3$ infinitely branching along two great circles.

If the planes are not orthogonal, then the minimal distance between the circles is less than~$\tfrac\pi2$.
Assume that this distance is realized by a geodesic $[\xi\zeta]$.
The broken line made by four liftings of $[\xi\zeta]$ forms a closed 
local
geodesic in~$\Sigma$. 
By Proposition~\ref{cor:loc-geod-are-min},
(or Corollary~\ref{cor:closed-geod-cat}) 
$\Sigma$ is not $\Cat{}{1}$.
Therefore by Exercise~\ref{ex:cone+susp}, $K$ is not $\Cat{}{0}$.

If the planes are orthogonal, then the corresponding great circles in $\SS^3$ are subcomplexes of a flag triangulation of $\SS^3$ with all-right simplicies.
The branching cover is also flag.
It remains to apply the flag condition~\ref{thm:flag}.\qeds

\parit{Comments.}
In \cite{charney-davis-93}, Ruth Charney and Michael Davis
gave a complete answer to the analogous question for three planes.
In particular they show that if a covering space of $\EE^4$
branching at three planes intersecting at the origin is $\Cat{}{0}$, then these all are complex planes for some complex structure on~$\EE^4$.


\parbf{Exercise~\ref{ex:hemisphere}.}
Let $\alpha$ be a closed curve in $\SS^2$ of length $2\cdot\ell$.

Assume $\ell<\pi$.
Let $\check\alpha$ be a subarc of $\alpha$ of length $\ell$, with endpoints $p$ and~$q$. 
Since $\dist{p}{q}{}\le\ell<\pi$, there is a unique geodesic $[pq]$ in~$\SS^2$.  
Let $z$ be the midpoint of $[pq]$. 

We claim that $\alpha$ lies in the open hemisphere $H$ centered at~$z$.  

Assume contrary; that is, $\alpha$ meets the equator $\partial H$ at a point $r$.
Without loss of generality we may assume that $r\in\check\alpha$.

The arc $\check\alpha$ together with its reflection in $z$ form a closed curve of length $2\cdot \ell$ which meets $r$ and its antipodal point~$r'$.
Thus $\ell\z=\length \check\alpha\ge \dist{r}{r'}{}=\pi$, a contradiction.
\qeds

\parit{A solution via Crofton formula.}
Let $\alpha$ be a closed curve in  $\SS^2$ of length $\le 2\cdot\pi$.  We wish to prove $\alpha$ is contained in a hemisphere in~$\SS^2$.
By approximation it suffices to prove this for  smooth curves $\alpha$ of length $< 2\cdot\pi$ with transverse self-intersections. 

Given $v\in \SS^2$, denote by $v^\perp$ the equator in $\SS^2$ with the pole at~$v$.
Further, $\# X$ will denote the number of points in the set~$X$.

Obviously,  if $\#(\alpha\cap v^\perp) =0$, then $\alpha$ is contained in one of the hemispheres determined by~$v^\perp$. 
Note that $\#(\alpha\cap v^\perp)$ is even for almost all~$v$.

Therefore, if $\alpha$ does not lie in a hemisphere, then
$\#(\alpha\cap v^\perp) \ge 2$ for almost all $v\in\SS^2$.  

By Crofton's formula we have that
\begin{align*}
\length(\alpha)
&=\frac 1 4\cdot \int\limits_{\SS^2}\#(\alpha\cap v^\perp)\cdot \d_v\area\ge
\\
&\ge2\cdot\pi.
\end{align*}
\qedsf


\parbf{Exercise~\ref{ex:inner-support}.}
Since  $\Omega$ is not two-convex, 
we can fix a simple closed curve $\gamma$ which lies in the intersection of a plane $W_0$ and $\Omega$, 
and is contractible in $\Omega$ but not contractible in $\Omega\cap W_0$.

\begin{wrapfigure}{r}{43mm}
\begin{lpic}[t(-0mm),b(-1mm),r(0mm),l(0mm)]{pics/inner-support(1)}
\lbl[t]{40,.5;$W_0$}
\lbl[t]{27,.5;$\Gamma$}
\lbl[br]{12,12;$p$}
\lbl{14,6;$R$}
\lbl[tl]{27,17;$W$}
\end{lpic}
\end{wrapfigure}

Let $\phi\:\DD\to \Omega$ be a disc which shrinks~$\gamma$.
Applying the loop theorem (arguing as in the proof of Proposition~\ref{prop:3d-strong-2-convexity}), we can assume that $\phi$ is an embedding and $\phi(\DD)$ lies on one side of~$W_0$.

Let $Q$ be the bounded closed domain cut from $\EE^3$ by $\phi(\DD)$ and~$W_0$. 
By assumption it contains a point which is not in~$\Omega$. 
Changing $W_0,\gamma$ and $\phi$ slightly, we can assume that such a point lies in the interior of~$Q$.

Fix a circle $\Gamma$ in $W_0$ which surrounds $Q\cap W_0$.
Since $Q$ lies in a half-space with boundary $W_0$, there is a
smallest spherical dome with boundary $\Gamma$ which includes the set $R=Q\backslash\Omega$.

The dome has to touch $R$ at some point~$p$.
The plane $W$ tangent to the dome at $p$ has the required property --- the point $p$ is an isolated point of the complement $W\backslash \Omega$.\qeds

\parbf{Exercise~\ref{ex:convex+saddle+broken=>PL}.}
Despite that the proof is simple and visual, it is quite hard to write it formally in a nontedious way;
by that reason we give only a sketch.

\medskip

Consider the surface $\bar S$ 
formed by the closure of the remaining part $S$ of the boundary.
Note that the boundary $\partial S$ of $\bar S$ is a collection of closed polygonal lines.

Assume $\bar S$ is not piecewise linear.
Show that there is a line segment $[pq]$ in $\EE^3$ tangent to $\bar S$ at some point $p$ which has no common points with $\bar S$ except~$p$.

\begin{wrapfigure}{r}{41mm}
\begin{lpic}[t(-0mm),b(-1mm),r(0mm),l(0mm)]{pics/shefel-last-step(1)}
\lbl[t]{21,7;$p$}
\lbl[r]{15,21;$q$}
\lbl[r]{2,9;$x$}
\lbl[l]{39.5,9;$y$}
\lbl[r]{4,17;$z$}
\lbl[lt]{4,25;$\partial \bar S$}
\lbl[tr]{32.5,25;$\partial \bar S$}
\end{lpic}
\end{wrapfigure}



Since $\bar S$ is locally concave,
there is a local inner supporting plane $\Pi$ at $p$ which contains the segment $[pq]$.

Note that $\Pi\cap \bar S$ contains a segment $[xy]\ni p$ with the ends at $\partial \bar S$.
Denote by $\Pi^+$ the half-plane in $\Pi$ which contains $[pq]$ has $[xy]$ in its boundary.

Use that $[pq]$ is tangent to $S$ to show that there is a point $z\in\partial \bar S$ such that the line segment $[xz]$ or $[yz]$ lies in $\partial \bar S\cap\Pi^+$.
 

From the latter statement and local convexity of $\bar S$, 
it follows that the solid triangle $[xyz]$ lies in~$\bar S$.
In particular, all points on $[pq]$ sufficiently close to $p$ lie in $\bar S$,
a contradiction.
\qeds


\parbf{Exercise~\ref{ex:CAT=>two-convex}.}
Show that if $K$ is not two-convex, then there is a plane triangle $\triangle$ whose sides lie completely in $K$, 
but its interior contains some points from  the complement $\EE^m\backslash K$.

It remains to note that $\triangle$ is not thin in~$K$.
\qeds

\parbf{Exercise~\ref{ex:two-convex-not-a-CAT}.}
Clearly the set $W$ is two-convex.
Therefore so is $K$ as an intersection of two-convex sets.

Consider two $2$-dimensional hemispheres $H_1$ and $H_2$ in $\SS^3$ 
such that the intersection $H_1\cap H_2$ is a geodesic $[\xi\zeta]$ orthogonal to the boundary equators of $H_1$ and $H_2$ and 
\[\dist{\xi}{\zeta}{\SS^3}<\tfrac\pi2.\]
Equip the complement $\SS^3\backslash(H_1\cup H_2)$ with induced length metric and denote by $\Sigma$ its completion.

\begin{wrapfigure}{r}{55mm}
\begin{lpic}[t(-0mm),b(0mm),r(0mm),l(0mm)]{pics/halph-spheres(1)}
\lbl[r]{20,12;$\xi$}
\lbl[l]{34,12;$\zeta$}
\lbl{10,12;$H_1$}
\lbl{45,12;$H_2$}
\end{lpic}
\end{wrapfigure}

Note that there is a closed geodesic in $\Sigma$ which projection to $\SS^3$
is formed by a product of four copies of $[\xi\zeta]$.
In particular there is a closed geodesic in $\Sigma$ shorter than $2\cdot\pi$.

Hence $\Sigma$ is not $\Cat{}{1}$ 
and therefore $K'=\Cone \Sigma$ is not $\Cat{}{0}$.

For suitable choice of the motion $\iota$,
we have $\tfrac1n\cdot K\to K'$ as $n\to\infty$ in  the sense of Gromov--Hausdorff.
Therefore by Proposition~\ref{prop:cat-limit}, $K$ is not $\Cat{}{0}$.
\qeds

